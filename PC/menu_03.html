<!DOCTYPE html>

<html>
	<head>
		<meta charset="UTF-8" />
		<title>태광그룹 정도경영</title>
		<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<link rel="stylesheet" href="css/style.css" />
	</head>

	<body>
		<div id="inconts">
			<div class="com_tab">
				<ul class="tab_a">
					<li><a href="menu_01.html">고객중심의 정도경영</a></li>
					<li><a href="menu_02.html">태광가족 생활방식</a></li>
					<li class="on"><a href="menu_03.html">각종 제안</a></li>
					<li><a href="menu_04_01.html">게시판</a></li>
					<li><a href="menu_05_01.html">설문</a></li>
					<li><a href="menu_06_01.html">토론</a></li>
				</ul>

				<div class="conts on">
					<div class="subtit">
						<h2>각종 제안</h2>
						<p>고객중심의 정도경영 관련 아이디어, 운영상 개선사항 및 건의사항을 접수하고 있습니다.</p>
					</div>
					<div class="wrap_menu">
						<a href="menu_03_01.html">
							<div class="btn_03_01">
								<img src="img/img_03_01.png" />
								<div class="name">정도경영위원회 제안<img src="img/btn_go.png" /></div>
								<hr />
								<p>
									우수한 제안 내용은 지원팀에서 검토한 후, <br />위원회의 논의를 거쳐<br /><span
										>그룹차원의 정도경영 관련 정책에 반영</span
									>됩니다.
								</p>
							</div>
						</a>
						<a href="menu_03_02.html">
							<div class="btn_03_02">
								<img src="img/img_03_02.png" />
								<div class="name">계열사 담당조직 제안<img src="img/btn_go.png" /></div>
								<hr />
								<p>
									우수한 제안 내용은 담당조직에서 검토한 후, <br /><span>회사의 정도경영 관련 정책에 반영</span>됩니다.
								</p>
							</div>
						</a>
					</div>
					<!-- <div class="report_info">
                    <ul>
                        <li>작성자의 개인정보 및 작성내용은 철저한 보안 속에서 처리됩니다.</li>
                        <li>제안, 진술, 자료제공 등으로 인한 어떠한 불이익도 발생되지 않도록 하겠습니다.</li>
                        <li>허위사실이나 음해성 글은 절대 삼가하여 주시기 바랍니다.</li>
                    </ul>
                </div> -->
				</div>
			</div>
		</div>

		<script src="js/jquery-1.11.3.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/jquery.form.js"></script>
		<script src="js/progress.js"></script>

		<script type="text/javascript">
			$(function () {
				$(".com_tab")
					.find(".tab_a > li")
					.on("click", function () {
						var idx = $(this).index();

						$(".com_tab").find(".tab_a > li").removeClass("on").eq(idx).addClass("on");
						$(".com_tab").find(".conts").removeClass("on").eq(idx).addClass("on");
					});

				$(".com_tab_child")
					.find(".tab_a_child > li")
					.on("click", function () {
						var idx = $(this).index();
						console.log(idx);

						$(".com_tab_child").find(".tab_a_child > li").removeClass("on").eq(idx).addClass("on");
						// $('.com_tab_child').find('.conts_child').removeClass('on').eq(idx).addClass('on');

						$(".com_tab_child").find(".conts_child > .text_c").hide();
						$(".com_tab_child").find(".conts_child > .text_c").eq(idx).show();

						if (idx == 0) {
							$(".TYPE1").show();
							$(".TYPE2").hide();
							$(".CP_CODE").hide();

							$("#action").val("insertCommitteeBoard.json");
						} else if (idx == 1) {
							$(".TYPE1").hide();
							$(".TYPE2").show();
							$(".CP_CODE").show();

							$("#action").val("insertCompanyBoard.json");
						}
					});

				$("#board").ajaxForm({
					beforeSubmit: function (data, form, option) {
						var action = $("#action").val();

						if ($("input:checkbox[id='agree']").is(":checked") == false) {
							alert("개인정보 수집 동의가 필요합니다.");
							return false;
						}

						if (action.indexOf("insertCommitteeBoard") >= 0) {
							if ($("#TYPE1").val() == null || $("#TYPE1").val() == "") {
								alert("작성구분을 선택해주세요");
								return false;
							}
						}

						if (action.indexOf("insertCompanyBoard") >= 0) {
							if ($("#TYPE2").val() == null || $("#TYPE2").val() == "") {
								alert("작성구분을 선택해주세요");
								return false;
							}
							if ($("#CP_CODE").val() == null || $("#CP_CODE").val() == "") {
								alert("계열사를 선택해주세요");
								return false;
							}
						}

						if ($("#TITLE").val() == "") {
							alert("제목을 입력해주세요");
							return false;
						}

						if ($("#SUMMARY").val() == "") {
							alert("내용을 입력해주세요");
							return false;
						}

						option["url"] = action;

						if (confirm("등록된 내용으로 접수하시겠습니까?")) {
							return true;
						}

						return false;
					},
					success: function (data, status) {
						data = JSON.parse(data);
						if (data.result == "SUCCESS") {
							alert("정상적으로 접수되었습니다.");

							$("#NAME").val("");
							$("#TEL").val("");
							$("#EMAIL").val("");
							$("#TITLE").val("");
							$("#SUMMARY").val("");
							$("#TYPE1").val("");
							$("#TYPE2").val("");
							$("#CP_CODE").val("");

							if (navigator.userAgent.toLowerCase().indexOf("msie") != -1) {
								$("#file").replaceWith($("#file").clone(true));
							} else {
								$("#file").val("");
							}
							$("#fileName").text("선택된 파일없음");

							$("input:checkbox[id='agree']").prop("checked", false);
						} else {
							alert(data.result_msg);
							console.log(data);
						}
					},
					error: function () {},
				});

				$("#file").change(function () {
					console.log(this.files[0]);
					if (this.files[0] == undefined) {
						$("#fileName").text("선택된 파일없음");
						return;
					}

					console.log(this.files[0].name);

					var ext = $(this).val().split(".").pop().toLowerCase();
					console.log(ext);
					if (ext != "zip") {
						alert("zip 파일만 등록가능합니다.");
						$(this).val("");
						return;
					}

					var size = this.files[0].size;
					if (size > 1024 * 1024 * 10) {
						alert("10MB 이하 파일만 등록가능합니다.");
						$(this).val("");
						return;
					}

					$("#fileName").text(this.files[0].name);
				});
			});
		</script>
	</body>
</html>
